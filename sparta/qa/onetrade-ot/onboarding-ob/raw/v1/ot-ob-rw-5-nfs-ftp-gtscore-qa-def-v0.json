{"id":"2cbb75f1-ae33-4a52-9a7d-9b62e8924334","name":"ot-ob-rw-5-nfs-ftp-gtscore-qa-def","description":"Receives files from GTS Core to HDFS","settings":{"global":{"executionMode":"marathon","userPluginsJars":[],"preExecutionSqlSentences":[],"postExecutionSqlSentences":[],"addAllUploadedPlugins":true,"mesosConstraint":"spark:true","mesosConstraintOperator":"LIKE","parametersLists":["Environment"],"parametersUsed":["COUNTRY","DATE","Global.SPARK_CORES_MAX","Global.SPARK_DRIVER_CORES","Global.SPARK_DRIVER_JAVA_OPTIONS","Global.SPARK_DRIVER_MEMORY","Global.SPARK_EXECUTOR_CORES","Global.SPARK_EXECUTOR_EXTRA_JAVA_OPTIONS","Global.SPARK_EXECUTOR_MEMORY","Global.SPARK_LOCALITY_WAIT","Global.SPARK_LOCAL_PATH","Global.SPARK_MEMORY_FRACTION","Global.SPARK_TASK_MAX_FAILURES","SFTP_CONN_STRING"],"udfsToRegister":[],"udafsToRegister":[],"mesosRole":"","marathonDeploymentSettings":{"gracePeriodSeconds":"240","intervalSeconds":"20","timeoutSeconds":"20","maxConsecutiveFailures":"3","forcePullImage":true,"privileged":false,"userEnvVariables":[],"userLabels":[],"logLevel":""},"enableQualityRules":true},"streamingSettings":{"window":"2s","blockInterval":"100ms","checkpointSettings":{"checkpointPath":"sparta/checkpoint","enableCheckpointing":true,"autoDeleteCheckpoint":true,"addTimeToCheckpointPath":false}},"sparkSettings":{"master":"mesos://zk://master.mesos:2181/mesos","sparkKerberos":true,"sparkDataStoreTls":true,"sparkMesosSecurity":true,"submitArguments":{"userArguments":[],"deployMode":"client","driverJavaOptions":"{{{Global.SPARK_DRIVER_JAVA_OPTIONS}}}"},"sparkConf":{"sparkResourcesConf":{"coresMax":"{{{Global.SPARK_CORES_MAX}}}","executorMemory":"{{{Global.SPARK_EXECUTOR_MEMORY}}}","executorCores":"{{{Global.SPARK_EXECUTOR_CORES}}}","driverCores":"{{{Global.SPARK_DRIVER_CORES}}}","driverMemory":"{{{Global.SPARK_DRIVER_MEMORY}}}","mesosExtraCores":"","localityWait":"{{{Global.SPARK_LOCALITY_WAIT}}}","taskMaxFailures":"{{{Global.SPARK_TASK_MAX_FAILURES}}}","sparkMemoryFraction":"{{{Global.SPARK_MEMORY_FRACTION}}}","sparkParallelism":""},"sparkHistoryServerConf":{"enableHistoryServerMonitoring":false,"sparkHistoryServerEventLogRotateEnable":false,"sparkHistoryServerEventLogRotateNum":"9","sparkHistoryServerEventLogRotateSize":"512"},"userSparkConf":[],"coarse":true,"sparkUser":"","sparkLocalDir":"{{{Global.SPARK_LOCAL_PATH}}}","sparkKryoSerialization":false,"sparkSqlCaseSensitive":true,"logStagesProgress":false,"hdfsTokenCache":true,"executorExtraJavaOptions":"{{{Global.SPARK_EXECUTOR_EXTRA_JAVA_OPTIONS}}}"}},"errorsManagement":{"genericErrorManagement":{"whenError":"Error"},"transformationStepsManagement":{"whenError":"Error","whenRowError":"RowError","whenFieldError":"FieldError"},"transactionsManagement":{"sendToOutputs":[],"sendStepData":false,"sendPredecessorsData":true,"sendInputData":true}}},"pipelineGraph":{"nodes":[{"name":"FileUtils","stepType":"Output","className":"FileUtilsOutputStep","classPrettyName":"FileUtils","arity":["NullaryToNullary","NaryToNullary"],"uiConfiguration":{"position":{"x":898.8154784392408,"y":210.99488883458383}},"configuration":{"fileActionsOnComplete":"[]","inputBinary":"{\"inputBinaryField\":\"\",\"inputBinaryDestinationPath\":\"\",\"inputBinaryDestinationField\":\"\",\"errorPolicy\":\"Error\"}","inputFromDataframe":"{\"inputDataframeAction\":\"COPY\",\"inputDataframeField\":\"Source\",\"inputDataframeDestination\":\"Destination\",\"deleteDestinationBeforeFromDataframe\":false,\"addTimestampToFilenameFromDataframe\":false,\"errorPolicy\":\"Error\"}","errorTableName":""},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[],"outputsWriter":[]},{"name":"RowPathsInicio","stepType":"Input","className":"RowGeneratorInputStep","classPrettyName":"RowGenerator","arity":["NullaryToNary"],"description":"Paso los par√°metros para las rutas del fileutils","uiConfiguration":{"position":{"x":289.31395256033454,"y":210.57955317937143}},"configuration":{"rows":[{"fields":[{"fieldName":"Source","fieldValue":"{{{SFTP_CONN_STRING}}}/gts/onetrade/Onboarding/{{{COUNTRY}}}/GTSKO/onboarding{{{COUNTRY}}}{{{DATE}}}_GTSKO.json","type":"string"},{"fieldName":"Destination","fieldValue":"hdfs://gts-hdfs/gts/data/raw/unformatted/onetrade/onboarding/{{{COUNTRY}}}/GTSKO/","type":"string"}]}],"debugOptions":"{\"fileUploaded\":\"hdfs:///user/gts-sparta/sparta/mockData/onboardingES20200111_GTSKO.json\"}","errorTableName":""},"supportedEngines":["Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[],"outputsWriter":[{"saveMode":"Append","outputStepName":"FileUtils","tableName":"","discardTableName":"","extraOptions":{}}]}],"edges":[{"origin":"RowPathsInicio","destination":"FileUtils","dataType":"ValidData"}],"annotations":[]},"executionEngine":"Batch","uiSettings":{"position":{"x":38.22399488727032,"y":37.48348586949595,"k":0.7907535320831167}},"creationDate":"2020-01-29T11:42:56Z","lastUpdateDate":"2020-01-28T11:55:18Z","version":0,"group":{"id":"ab7361e4-761c-4883-afc8-b071f068f0dd","name":"/home/qa/onetrade-ot/onboarding-ob/raw/v1"},"debugMode":false,"versionSparta":"2.11.1-7a22d44","groupId":"ab7361e4-761c-4883-afc8-b071f068f0dd"}